(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{10:function(t,e,n){t.exports={PhoneBookForm:"ContactFrom_PhoneBookForm__3L2Tf",input:"ContactFrom_input__1CLdb",label:"ContactFrom_label__7XPB7",inputBtn:"ContactFrom_inputBtn__Dl_jB"}},15:function(t,e,n){t.exports={filter:"Filter_filter__3IwaY",input:"Filter_input__e_hHT",label:"Filter_label__2I2n-",enter:"Filter_enter__2k5p2",enterActive:"Filter_enterActive__v92Ps",exit:"Filter_exit__3hGXe",exitActive:"Filter_exitActive__15ody"}},16:function(t,e,n){t.exports={item:"ContactItem_item__2bwIl",itemText:"ContactItem_itemText__cA-3E",btn:"ContactItem_btn__wXEOe"}},25:function(t,e,n){t.exports={title:"Title_title__e4bGm",appear:"Title_appear__s9F6x",appearActive:"Title_appearActive__3pw0f"}},26:function(t,e,n){t.exports={notification:"Notification_notification__B1vQZ",enter:"Notification_enter__1M6Ya",enterActive:"Notification_enterActive__1PxL9",exit:"Notification_exit__kZIOs",exitActive:"Notification_exitActive__2gth8"}},29:function(t,e,n){t.exports={list:"ContactsList_list__2DbC5",enter:"ContactsList_enter__2CKXB",enterActive:"ContactsList_enterActive__546Le",exit:"ContactsList_exit__1gUin",exitActive:"ContactsList_exitActive__2hYKT"}},69:function(t,e,n){},70:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),i=n(9),r=n.n(i),o=n(18),s=n(19),u=n(21),l=n(20),b=n(71),_=n(25),j=n.n(_),m=function(){return Object(c.jsx)(b.a,{in:!0,appear:!0,timeout:500,classNames:j.a,unmountOnExit:!0,children:Object(c.jsx)("h1",{className:j.a.title,children:"Phonebook"})})},f=n(8),O=n(26),C=n.n(O),d=function(t){var e=t.isContacts;return Object(c.jsx)(b.a,{in:e,appear:!0,timeout:250,classNames:C.a,unmountOnExit:!0,children:Object(c.jsx)("div",{className:C.a.notification,children:Object(c.jsx)("p",{children:"Contact already exists!"})})})},p=n(10),h=n.n(p),x=n(6),v=n(14),T=n.n(v),N=n(2),A=Object(N.b)("ADD_CONTACTS_REQUEST"),g=Object(N.b)("ADD_CONTACTS_SUCCESS"),S=Object(N.b)("ADD_CONTACTS_ERROR"),E=Object(N.b)("FETCH_CONTACTS_REQUEST"),F=Object(N.b)("FETCH_CONTACTS_SUCCESS"),y=Object(N.b)("FETCH_CONTACTS_ERROR"),R=Object(N.b)("REMOVE_CONTACTS_REQUEST"),k=Object(N.b)("REMOVE_CONTACTS_SUCCESS"),B=Object(N.b)("REMOVE_CONTACTS_ERROR");T.a.defaults.baseURL="http://localhost:2000";var I,L={onAddContact:function(t){var e=t.name,n=t.number;return function(t){t(A()),T.a.post("/contacts",{name:e,number:n}).then((function(e){var n=e.data;return t(g(n))})).catch((function(e){return t(S(e))}))}},fetchContacts:function(){return function(t){t(E()),T.a.get("/contacts").then((function(e){var n=e.data;return t(F(n))})).catch((function(e){return t(y(e))}))}},removeContact:function(t){return function(e){e(R()),T.a.delete("/contacts/".concat(t)).then((function(){return e(k(t))})).catch((function(t){return e(B(t))}))}}},D=n(11),w=function(t){return t.contacts},U=function(t){return t.filter},P=Object(D.a)([w,U],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e)}))})),M={getContacts:w,getFilter:U,getItemById:function(t,e){return w(t).find((function(t){return t.id===e}))},getFilteredContacts:P},H=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",isContacts:!1},t.handleChange=function(e){var n=e.target,c=n.name,a=n.value;t.setState(Object(f.a)({},c,a))},t.handleSubmit=function(e){e.preventDefault();var n={name:t.state.name,number:t.state.number};if(t.props.contacts.find((function(t){return t.name===n.name})))return t.setState({isContacts:!0}),void setTimeout((function(){return t.setState({isContacts:!1})}),4e3);t.props.onAddContact(n),t.setState({name:"",number:""})},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,a=t.isContacts;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(d,{isContacts:a}),Object(c.jsxs)("form",{className:h.a.PhoneBookForm,onSubmit:this.handleSubmit,children:[Object(c.jsxs)("label",{className:h.a.label,children:["Name",Object(c.jsx)("input",{className:h.a.input,name:"name",type:"text",value:e,onChange:this.handleChange,required:!0})]}),Object(c.jsxs)("label",{className:h.a.label,children:["Number",Object(c.jsx)("input",{className:h.a.input,name:"number",type:"tel",value:n,onChange:this.handleChange,required:!0})]}),Object(c.jsx)("input",{type:"submit",value:"Add contact",className:h.a.inputBtn})]})]})}}]),n}(a.Component),Q={onAddContact:L.onAddContact},X=Object(x.b)((function(t){return{contacts:M.getContacts(t)}}),Q)(H),V=n(15),Y=n.n(V),q=Object(N.b)("FILTER_CONTACTS"),G={onChangeFilter:q},J=Object(x.b)((function(t){return{filter:M.getFilter(t),contacts:M.getContacts(t)}}),G)((function(t){var e=t.filter,n=t.onChangeFilter,a=t.contacts;return Object(c.jsx)(b.a,{in:a.length>0,appear:!0,timeout:250,classNames:Y.a,unmountOnExit:!0,children:Object(c.jsx)("div",{className:Y.a.filter,children:Object(c.jsxs)("label",{className:Y.a.label,children:["Find contacts by name",Object(c.jsx)("input",{type:"text",className:Y.a.input,value:e,onChange:function(t){return n(t.target.value)}})]})})})})),K=n(39),Z=n(16),z=n.n(Z),W=Object(x.b)((function(t,e){var n=M.getItemById(t,e.id);return Object(K.a)({},n)}),(function(t,e){return{removeContact:function(){return t(L.removeContact(e.id))}}}))((function(t){var e=t.name,n=t.number,a=t.removeContact;return Object(c.jsxs)("li",{className:z.a.item,children:[Object(c.jsxs)("p",{className:z.a.itemText,children:[e,":"]}),Object(c.jsx)("p",{className:z.a.itemText,children:n}),Object(c.jsx)("button",{type:"button",className:z.a.btn,onClick:a,children:"Delete"})]})})),$=n(72),tt=n(29),et=n.n(tt),nt=Object(x.b)((function(t){return{findContacts:M.getFilteredContacts(t)}}))((function(t){var e=t.findContacts;return Object(c.jsx)($.a,{component:"ul",className:et.a.list,children:e.map((function(t){var e=t.id;return Object(c.jsx)(b.a,{timeout:250,classNames:et.a,children:Object(c.jsx)(W,{id:e})},e)}))})})),ct=(n(69),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(m,{}),Object(c.jsx)(X,{}),Object(c.jsx)(J,{}),Object(c.jsx)(nt,{})]})}}]),n}(a.Component)),at={fetchContacts:L.fetchContacts},it=Object(x.b)((function(t){return{}}),at)(ct),rt=n(40),ot=Object(N.c)([],(I={},Object(f.a)(I,F,(function(t,e){return e.payload})),Object(f.a)(I,g,(function(t,e){return[].concat(Object(rt.a)(t),[e.payload])})),Object(f.a)(I,k,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),I)),st=Object(N.c)("",Object(f.a)({},q,(function(t,e){return e.payload}))),ut=Object(N.a)({reducer:{contacts:ot,filter:st}});r.a.render(Object(c.jsx)(x.a,{store:ut,children:Object(c.jsx)(it,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.a1581727.chunk.js.map